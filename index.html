<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ø§Ø³ØªØ¨ÙŠØ§Ù† Ø§Ù„Ø¹Ù…ÙŠÙ„ Ø§Ù„ÙØ§Ø®Ø±</title>
<style>
@import url('https://fonts.googleapis.com/css2?family=El+Messiri:wght@400;500;600;700&display=swap');
body{background:#1a1208;color:#f8e9c4;font-family:'El Messiri',sans-serif;display:flex;justify-content:center;align-items:center;min-height:100vh;padding:15px}
.container{max-width:700px;width:100%;background:rgba(255,255,255,0.05);border:1px solid rgba(212,175,55,0.3);border-radius:20px;padding:25px}
.title{text-align:center;color:#d4af37;margin-bottom:10px}
.subtitle{text-align:center;color:#f5e9c2;margin-bottom:25px}
.question-title{color:#f1c75e;margin-bottom:10px}
.text-input{width:100%;padding:10px;border:1px solid rgba(212,175,55,0.3);border-radius:10px;background:rgba(255,255,255,0.05);color:#f8e9c4;margin-bottom:10px}
.option-card{border:1px solid rgba(212,175,55,0.3);border-radius:10px;padding:10px;margin-bottom:10px;cursor:pointer}
.option-card.selected{border-color:#d4af37;background:rgba(212,175,55,0.1)}
.nav-btn{padding:10px 20px;background:linear-gradient(45deg,#b8860b,#d4af37);border:none;border-radius:10px;color:#1a1208;cursor:pointer;margin:5px;font-weight:bold}
.error-message{color:#ff6b6b;font-size:0.85rem;display:none;margin-bottom:10px}
#thankyou-message{text-align:center;display:none}
#loading{text-align:center;display:none}
</style>
</head>
<body>
<div class="container">
<h1 class="title">Ø§Ø³ØªØ¨ÙŠØ§Ù† Ø§Ù„Ø¹Ù…ÙŠÙ„ Ø§Ù„ÙØ§Ø®Ø±</h1>
<p class="subtitle">ÙŠØ±Ø¬Ù‰ ØªØ¹Ø¨Ø¦Ø© Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¨Ø¯Ù‚Ø©</p>

<form id="clientForm">

<!-- 1 -->
<div class="form-step active" id="step-1">
<h2 class="question-title">1ï¸âƒ£ Ø§Ø³Ù… Ø§Ù„ÙˆØ±Ø´Ø© Ø£Ùˆ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹</h2>
<input type="text" class="text-input" name="project_name" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ø³Ù… Ø§Ù„ÙˆØ±Ø´Ø© Ø£Ùˆ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹">
<div class="error-message" id="error-1"></div>
</div>

<!-- 2 -->
<div class="form-step" id="step-2">
<h2 class="question-title">2ï¸âƒ£ Ù†ÙˆØ¹ Ø§Ù„Ø´ØºÙ„ Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ</h2>
<label class="option-card"><input type="radio" name="work_type" value="Ø¯Ù‡Ø§Ù†"> Ø¯Ù‡Ø§Ù†</label>
<label class="option-card"><input type="radio" name="work_type" value="ØªØ°Ù‡ÙŠØ¨"> ØªØ°Ù‡ÙŠØ¨</label>
<label class="option-card"><input type="radio" name="work_type" value="ØªØ´Ø·ÙŠØ¨"> ØªØ´Ø·ÙŠØ¨</label>
<label class="option-card"><input type="radio" name="work_type" value="Ø´ÙŠØ¡ Ø¢Ø®Ø±"> Ø´ÙŠØ¡ Ø¢Ø®Ø±</label>
<div class="custom-input" id="work-custom"><input type="text" class="text-input" name="work_custom" placeholder="Ø£Ø¯Ø®Ù„ Ù†ÙˆØ¹ Ø§Ù„Ø´ØºÙ„ Ø§Ù„Ø¢Ø®Ø±"></div>
<div class="error-message" id="error-2"></div>
</div>

<!-- 3 -->
<div class="form-step" id="step-3">
<h2 class="question-title">3ï¸âƒ£ Ø´ÙƒÙ„ Ø§Ù„Ø´Ø¹Ø§Ø± Ø§Ù„Ù…ÙØ¶Ù„</h2>
<label class="option-card"><input type="radio" name="logo_style" value="ÙØ®Ù… ÙˆÙƒÙ„Ø§Ø³ÙŠÙƒÙŠ"> ÙØ®Ù… ÙˆÙƒÙ„Ø§Ø³ÙŠÙƒÙŠ</label>
<label class="option-card"><input type="radio" name="logo_style" value="Ø¨Ø³ÙŠØ· ÙˆØ­Ø¯ÙŠØ«"> Ø¨Ø³ÙŠØ· ÙˆØ­Ø¯ÙŠØ«</label>
<label class="option-card"><input type="radio" name="logo_style" value="Ù…Ø²ÙŠØ¬ Ù…Ù† Ø§Ù„Ø¥Ø«Ù†ÙŠÙ†"> Ù…Ø²ÙŠØ¬ Ù…Ù† Ø§Ù„Ø¥Ø«Ù†ÙŠÙ†</label>
<div class="error-message" id="error-3"></div>
</div>

<!-- 4 -->
<div class="form-step" id="step-4">
<h2 class="question-title">4ï¸âƒ£ Ø§Ù„Ø£Ù„ÙˆØ§Ù† Ø§Ù„Ù…ÙØ¶Ù„Ø©</h2>
<label class="option-card"><input type="radio" name="colors" value="Ø°Ù‡Ø¨ÙŠ ÙˆÙƒÙ„Ø§Ø³ÙŠÙƒÙŠ"> Ø°Ù‡Ø¨ÙŠ ÙˆÙƒÙ„Ø§Ø³ÙŠÙƒÙŠ</label>
<label class="option-card"><input type="radio" name="colors" value="Ø£Ù„ÙˆØ§Ù† ØªØ±Ø§Ø¨ÙŠØ©"> Ø£Ù„ÙˆØ§Ù† ØªØ±Ø§Ø¨ÙŠØ©</label>
<label class="option-card"><input type="radio" name="colors" value="Ø£Ù„ÙˆØ§Ù† Ø²Ø§Ù‡ÙŠØ©"> Ø£Ù„ÙˆØ§Ù† Ø²Ø§Ù‡ÙŠØ©</label>
<label class="option-card"><input type="radio" name="colors" value="Ø´ÙŠØ¡ Ø¢Ø®Ø±"> Ø´ÙŠØ¡ Ø¢Ø®Ø±</label>
<div class="custom-input" id="color-custom"><input type="text" class="text-input" name="color_custom" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ù„Ø£Ù„ÙˆØ§Ù† Ø§Ù„Ø£Ø®Ø±Ù‰"></div>
<div class="error-message" id="error-4"></div>
</div>

<!-- 5 -->
<div class="form-step" id="step-5">
<h2 class="question-title">5ï¸âƒ£ Ù†ÙˆØ¹ Ø§Ù„Ø´Ø¹Ø§Ø±</h2>
<label class="option-card"><input type="radio" name="logo_type" value="Ø±Ù…Ø² ÙÙ‚Ø·"> Ø±Ù…Ø² ÙÙ‚Ø·</label>
<label class="option-card"><input type="radio" name="logo_type" value="ÙƒØªØ§Ø¨Ø© ÙÙ‚Ø·"> ÙƒØªØ§Ø¨Ø© ÙÙ‚Ø·</label>
<label class="option-card"><input type="radio" name="logo_type" value="Ø±Ù…Ø² ÙˆÙƒØªØ§Ø¨Ø©"> Ø±Ù…Ø² ÙˆÙƒØªØ§Ø¨Ø©</label>
<label class="option-card"><input type="radio" name="logo_type" value="Ø´ÙŠØ¡ Ø¢Ø®Ø±"> Ø´ÙŠØ¡ Ø¢Ø®Ø±</label>
<div class="custom-input" id="logo-type-custom"><input type="text" class="text-input" name="logo_type_custom" placeholder="Ø£Ø¯Ø®Ù„ Ù†ÙˆØ¹ Ø§Ù„Ø´Ø¹Ø§Ø± Ø§Ù„Ø¢Ø®Ø±"></div>
<div class="error-message" id="error-5"></div>
</div>

<!-- 6 -->
<div class="form-step" id="step-6">
<h2 class="question-title">6ï¸âƒ£ Ø§Ù„Ø¥Ø­Ø³Ø§Ø³ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨</h2>
<label class="option-card"><input type="radio" name="feeling" value="ÙØ®Ø§Ù…Ø©"> ÙØ®Ø§Ù…Ø©</label>
<label class="option-card"><input type="radio" name="feeling" value="Ø§Ø­ØªØ±Ø§Ù"> Ø§Ø­ØªØ±Ø§Ù</label>
<label class="option-card"><input type="radio" name="feeling" value="Ø°ÙˆÙ‚"> Ø°ÙˆÙ‚</label>
<label class="option-card"><input type="radio" name="feeling" value="Ø´ÙŠØ¡ Ø¢Ø®Ø±"> Ø´ÙŠØ¡ Ø¢Ø®Ø±</label>
<div class="custom-input" id="feeling-custom"><input type="text" class="text-input" name="feeling_custom" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ù„Ø¥Ø­Ø³Ø§Ø³ Ø§Ù„Ø¢Ø®Ø±"></div>
<div class="error-message" id="error-6"></div>
</div>

<!-- 7 -->
<div class="form-step" id="step-7">
<h2 class="question-title">7ï¸âƒ£ Ù‡Ù„ Ù„Ø¯ÙŠÙƒ Ù„ÙˆØ¬Ùˆ Ù‚Ø¯ÙŠÙ…ØŸ</h2>
<label class="option-card"><input type="radio" name="old_logo" value="Ù†Ø¹Ù…"> Ù†Ø¹Ù…</label>
<label class="option-card"><input type="radio" name="old_logo" value="Ù„Ø§"> Ù„Ø§</label>
<div id="logo-details" style="display:none;margin-top:15px;">
<textarea class="text-input" name="logo_details" rows="3" placeholder="ØµÙ Ø§Ù„Ù„ÙˆØ¬Ùˆ Ø§Ù„Ù‚Ø¯ÙŠÙ… Ø¥Ù† ÙˆØ¬Ø¯..."></textarea>
<input type="file" id="file-input" style="display:none;" accept="image/*,.pdf,.psd,.ai">
<div class="option-card" id="file-upload">ğŸ“ Ø§Ù†Ù‚Ø± Ù„Ø±ÙØ¹ Ù…Ù„ÙØ§Øª Ø§Ù„Ù„ÙˆØ¬Ùˆ Ø§Ù„Ù‚Ø¯ÙŠÙ… <p class="file-name" id="file-name">Ù„Ù… ÙŠØªÙ… Ø±ÙØ¹ Ø£ÙŠ Ù…Ù„Ù Ø¨Ø¹Ø¯</p></div>
</div>
<div class="error-message" id="error-7"></div>
</div>

<div style="display:flex;justify-content:space-between;margin-top:20px;">
<button type="button" class="nav-btn" id="prev-btn" disabled>Ø§Ù„Ø³Ø§Ø¨Ù‚</button>
<button type="button" class="nav-btn" id="next-btn">Ø§Ù„ØªØ§Ù„ÙŠ</button>
<button type="submit" class="nav-btn" id="submit-btn" style="display:none;">Ø¥Ø±Ø³Ø§Ù„</button>
</div>
</form>

<div id="loading"><p>Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„...</p></div>
<div id="thankyou-message"><h2>âœ… ØªÙ… Ø§Ø³ØªÙ„Ø§Ù… Ø§Ø³ØªØ¨ÙŠØ§Ù†Ùƒ Ø¨Ù†Ø¬Ø§Ø­</h2></div>
</div>

<script>
const totalSteps=7;let currentStep=1;
const scriptURL="https://script.google.com/macros/s/AKfycbyrbeM-XjltWIR7T9qQGcbv3L1jTDiOWRWofzRi9Cm2ojrvYPWw0PPcC3YLv5D6smad/exec";

function updateUI(){
document.querySelectorAll('.form-step').forEach(e=>e.classList.remove('active'));
document.getElementById(`step-${currentStep}`).classList.add('active');
document.getElementById('prev-btn').disabled=currentStep===1;
document.getElementById('next-btn').style.display=currentStep===totalSteps?'none':'inline-block';
document.getElementById('submit-btn').style.display=currentStep===totalSteps?'inline-block':'none';
window.scrollTo({top:0,behavior:'smooth'});
}

function validateStep(s){
const show=(id,msg)=>{const e=document.getElementById(`error-${id}`);e.textContent=msg;e.style.display='block';};
document.querySelectorAll('.error-message').forEach(e=>e.style.display='none');
switch(s){
case 1:if(!document.querySelector('input[name="project_name"]').value.trim()){show(1,"ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ø³Ù… Ø§Ù„Ù…Ø´Ø±ÙˆØ¹");return false;}return true;
case 2:const w=document.querySelector('input[name="work_type"]:checked');if(!w){show(2,"ÙŠØ±Ø¬Ù‰ Ø§Ø®ØªÙŠØ§Ø± Ù†ÙˆØ¹ Ø§Ù„Ø´ØºÙ„");return false;}if(w.value==="Ø´ÙŠØ¡ Ø¢Ø®Ø±"&&!document.querySelector('input[name="work_custom"]').value.trim()){show(2,"ÙŠØ±Ø¬Ù‰ ÙƒØªØ§Ø¨Ø© Ù†ÙˆØ¹ Ø§Ù„Ø´ØºÙ„ Ø§Ù„Ø¢Ø®Ø±");return false;}return true;
case 3:if(!document.querySelector('input[name="logo_style"]:checked')){show(3,"ÙŠØ±Ø¬Ù‰ Ø§Ø®ØªÙŠØ§Ø± Ø´ÙƒÙ„ Ø§Ù„Ø´Ø¹Ø§Ø±");return false;}return true;
case 4:const c=document.querySelector('input[name="colors"]:checked');if(!c){show(4,"ÙŠØ±Ø¬Ù‰ Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ø£Ù„ÙˆØ§Ù†");return false;}if(c.value==="Ø´ÙŠØ¡ Ø¢Ø®Ø±"&&!document.querySelector('input[name="color_custom"]').value.trim()){show(4,"ÙŠØ±Ø¬Ù‰ ÙƒØªØ§Ø¨Ø© Ø§Ù„Ø£Ù„ÙˆØ§Ù† Ø§Ù„Ø£Ø®Ø±Ù‰");return false;}return true;
case 5:const l=document.querySelector('input[name="logo_type"]:checked');if(!l){show(5,"ÙŠØ±Ø¬Ù‰ Ø§Ø®ØªÙŠØ§Ø± Ù†ÙˆØ¹ Ø§Ù„Ø´Ø¹Ø§Ø±");return false;}if(l.value==="Ø´ÙŠØ¡ Ø¢Ø®Ø±"&&!document.querySelector('input[name="logo_type_custom"]').value.trim()){show(5,"ÙŠØ±Ø¬Ù‰ ÙƒØªØ§Ø¨Ø© Ù†ÙˆØ¹ Ø§Ù„Ø´Ø¹Ø§Ø± Ø§Ù„Ø¢Ø®Ø±");return false;}return true;
case 6:const f=document.querySelector('input[name="feeling"]:checked');if(!f){show(6,"ÙŠØ±Ø¬Ù‰ Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ø¥Ø­Ø³Ø§Ø³");return false;}if(f.value==="Ø´ÙŠØ¡ Ø¢Ø®Ø±"&&!document.querySelector('input[name="feeling_custom"]').value.trim()){show(6,"ÙŠØ±Ø¬Ù‰ ÙƒØªØ§Ø¨Ø© Ø§Ù„Ø¥Ø­Ø³Ø§Ø³ Ø§Ù„Ø¢Ø®Ø±");return false;}return true;
case 7:if(!document.querySelector('input[name="old_logo"]:checked')){show(7,"ÙŠØ±Ø¬Ù‰ Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø©");return false;}return true;
default:return true;
}}

document.getElementById('next-btn').onclick=()=>{if(validateStep(currentStep)&&currentStep<totalSteps){currentStep++;updateUI();}};
document.getElementById('prev-btn').onclick=()=>{if(currentStep>1){currentStep--;updateUI();}};

document.querySelectorAll('.option-card').forEach(card=>{
card.onclick=function(){
const r=this.querySelector('input[type="radio"]');
if(!r)return;
document.querySelectorAll(`input[name="${r.name}"]`).forEach(i=>i.closest('.option-card').classList.remove('selected'));
r.checked=true;this.classList.add('selected');
if(r.name==='work_type')document.getElementById('work-custom').style.display=r.value==='Ø´ÙŠØ¡ Ø¢Ø®Ø±'?'block':'none';
if(r.name==='colors')document.getElementById('color-custom').style.display=r.value==='Ø´ÙŠØ¡ Ø¢Ø®Ø±'?'block':'none';
if(r.name==='logo_type')document.getElementById('logo-type-custom').style.display=r.value==='Ø´ÙŠØ¡ Ø¢Ø®Ø±'?'block':'none';
if(r.name==='feeling')document.getElementById('feeling-custom').style.display=r.value==='Ø´ÙŠØ¡ Ø¢Ø®Ø±'?'block':'none';
if(r.name==='old_logo')document.getElementById('logo-details').style.display=r.value==='Ù†Ø¹Ù…'?'block':'none';
}};
});

const fileUpload=document.getElementById('file-upload');
const fileInput=document.getElementById('file-input');
const fileName=document.getElementById('file-name');
fileUpload.onclick=()=>fileInput.click();
fileInput.onchange=()=>{fileName.textContent=fileInput.files.length>0?fileInput.files[0].name:'Ù„Ù… ÙŠØªÙ… Ø±ÙØ¹ Ø£ÙŠ Ù…Ù„Ù Ø¨Ø¹Ø¯';};

async function fileToBase64(f){return new Promise((res,rej)=>{const r=new FileReader();r.onload=()=>res(r.result.split(',')[1]);r.onerror=rej;r.readAsDataURL(f);});}

document.getElementById('clientForm').addEventListener('submit',async e=>{
e.preventDefault();if(!validateStep(totalSteps))return;
const data={timestamp:new Date().toLocaleString('ar-SA')};
function val(name,custom){const el=document.querySelector(`input[name="${name}"]:checked`);if(!el)return'';if(el.value==='Ø´ÙŠØ¡ Ø¢Ø®Ø±'){return document.querySelector(`input[name="${custom}"]`)?.value.trim()||'';}return el.value;}
data.project_name=document.querySelector('input[name="project_name"]').value.trim();
data.work_type=val('work_type','work_custom');
data.logo_style=val('logo_style','');
data.colors=val('colors','color_custom');
data.logo_type=val('logo_type','logo_type_custom');
data.feeling=val('feeling','feeling_custom');
data.old_logo=val('old_logo','');
data.logo_details=document.querySelector('textarea[name="logo_details"]')?.value.trim()||'';

const fd=new FormData();for(let k in data)fd.append(k,data[k]);
if(fileInput.files.length>0){const f=fileInput.files[0];fd.append('file_name',f.name);fd.append('file_type',f.type);fd.append('file_base64',await fileToBase64(f));}

document.querySelector('form').style.display='none';
document.getElementById('loading').style.display='block';
try{
const r=await fetch(scriptURL,{method:'POST',body:fd});
const j=await r.json();
document.getElementById('loading').style.display='none';
if(j.result==='success'){document.getElementById('thankyou-message').style.display='block';}
else throw new Error(j.message);
}catch(err){
alert('Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„: '+err.message);
document.querySelector('form').style.display='block';
document.getElementById('loading').style.display='none';
}
});
updateUI();
</script>
</body>
</html>
